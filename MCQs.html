<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta property="og:title" content="MCQs">
<meta property="og:description" content="Mizoram Budget 2025 MCQs">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MCQs</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
/* ---------------- GLOBAL ---------------- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(135deg, #d8c7ff 0%, #bcd2ff 100%);
  padding: 20px;
  color: #1a1a1a;
}

/* ---------------- NAVBAR ---------------- */
.navbar {
  width: 100%;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(8px);
  color: #000;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  border-radius: 0 0 14px 14px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.12);
}

.logo {
  font-size: 1.6rem;
  font-weight: 700;
  letter-spacing: .5px;
}

.nav-links a {
  color: #1a1a1a;
  text-decoration: none;
  font-weight: 600;
  margin-left: 18px;
  padding: 6px 12px;
  border-radius: 6px;
  transition: 0.25s;
}

.nav-links a:hover {
  background: rgba(0,0,0,0.08);
}

/* ---------------- HEADER ---------------- */
.header {
  margin-top: 100px;
  text-align: center;
}

.header h2 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 8px;
}

.submission-note {
  margin-top: 5px;
  font-size: 0.9rem;
  opacity: 0.7;
}

/* ---------------- CONTAINER ---------------- */
.content {
  margin-top: 20px;
}

.question-container {
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(8px);
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 18px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.12);
  border: 1px solid rgba(255,255,255,0.6);
  transition: transform 0.2s ease;
}

.question-container:hover {
  transform: scale(1.01);
}

.question p {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 12px;
}

/* ---------------- OPTIONS ---------------- */
label {
  display: flex;
  align-items: center;
  font-size: 18px;
  margin-bottom: 10px;
  cursor: pointer;
}

/* Customized modern radio buttons */
input[type="radio"] {
  appearance: none;
  width: 20px;
  height: 20px;
  border: 2px solid #555;
  border-radius: 50%;
  margin-right: 10px;
  position: relative;
  cursor: pointer;
  transition: 0.2s;
}

input[type="radio"]:checked {
  border-color: #6b48ff;
  background: #6b48ff;
}

input[type="radio"]:checked::after {
  content: '';
  width: 10px; height: 10px;
  background: white;
  border-radius: 50%;
  position: absolute;
  top: 4px; left: 4px;
}

.option-correct { color: #007a2a; font-weight: 600; }
.option-wrong { color: #c50000; font-weight: 600; }

/* ---------------- BUTTONS ---------------- */
.btn {
  background: #6b48ff;
  color: white;
  padding: 14px 30px;
  border-radius: 10px;
  border: none;
  font-size: 1.1rem;
  font-weight: 700;
  cursor: pointer;
  transition: 0.25s;
  width: 100%;
  max-width: 220px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.2);
}

.btn:hover {
  background: #5533dd;
}

#reset-btn {
  display: none;
  margin: 20px auto 0;
  background: #ff5f5f;
}

#reset-btn:hover {
  background: #d74444;
}

/* ---------------- RESULTS ---------------- */
.result-container {
  margin-top: 20px;
  background: rgba(255,255,255,0.55);
  padding: 16px;
  border-radius: 14px;
  backdrop-filter: blur(6px);
  font-size: 1.2rem;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}

/* ---------------- MOBILE ---------------- */
@media (max-width: 600px) {
  .question p {
    font-size: 18px;
  }
  label {
    font-size: 16px;
  }
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
  <div class="logo">MCQs</div>
  <div class="nav-links">
    <a href="/index.html">Inpui Kalna</a>
  </div>
</div>

<!-- HEADER -->
<div class="header">
  <h2>Mizoram Budget 2025</h2>
  <p class="submission-note">*Submit na a hnuaiah a lang ang</p>
</div>

<!-- CONTENT -->
<div class="content">
  <div id="mcq-container"></div>
  <div id="pagination-controls"></div>

  <div style="text-align:center;">
    <button id="submit-btn" class="btn" onclick="checkAnswers()">Submit</button>
    <button id="reset-btn" class="btn" onclick="resetTest()">Reset</button>
  </div>

  <div id="result-container" class="result-container">
    <h3>Test Results</h3>
    <p id="result-text"></p>
  </div>
</div>

<script>
const QUESTIONS_PER_PAGE = 25;

let allQuestions = [];
let currentPage = 1;

// Load JSON
function loadQuestions(callback) {
    fetch('questions.json')
        .then(r => r.json())
        .then(callback)
        .catch(err => console.error("JSON Load Error:", err));
}

function displayQuestionsPaginated() {
    let container = document.getElementById("mcq-container");
    container.innerHTML = "";

    const start = (currentPage - 1) * QUESTIONS_PER_PAGE;
    const end = start + QUESTIONS_PER_PAGE;

    const questions = allQuestions.slice(start, end);

    questions.forEach((question, index) => {
        let globalIndex = start + index;

        let card = document.createElement("div");
        card.className = "question-container";

        let qDiv = document.createElement("div");
        qDiv.className = "question";

        qDiv.innerHTML = `<p>${globalIndex + 1}. ${question.text}</p>`;

        question.options.forEach(option => {
            let label = document.createElement("label");

            let radio = document.createElement("input");
            radio.type = "radio";
            radio.name = `q${globalIndex}`;
            radio.value = option;
            label.appendChild(radio);

            let span = document.createElement("span");
            span.textContent = option;

            label.appendChild(span);
            qDiv.appendChild(label);
        });

        let ans = document.createElement("span");
        ans.className = "answer";
        ans.dataset.correct = question.answer;
        ans.style.display = "none";
        qDiv.appendChild(ans);

        card.appendChild(qDiv);
        container.appendChild(card);
    });

    showPaginationControls();
}

/* Pagination controls (Next/Prev buttons) */
function showPaginationControls() {
    const totalPages = Math.ceil(allQuestions.length / QUESTIONS_PER_PAGE);

    let container = document.getElementById("pagination-controls");
    if (!container) {
        container = document.createElement("div");
        container.id = "pagination-controls";
        container.style.textAlign = "center";
        container.style.marginTop = "20px";
        document.querySelector(".content").appendChild(container);
    }

    let html = `
        ${currentPage > 1 ? `<button class="btn" onclick="prevPage()">Previous</button>` : ""}
        ${currentPage < totalPages ? `<button class="btn" onclick="nextPage()">Next</button>` : ""}
        <p style="margin-top:10px;">Page ${currentPage} of ${totalPages}</p>
    `;

    // Show submit button ONLY on last page
    document.getElementById("submit-btn").style.display =
        currentPage === totalPages ? "inline-block" : "none";

    container.innerHTML = html;
}

function nextPage() {
    currentPage++;
    displayQuestionsPaginated();
}

function prevPage() {
    currentPage--;
    displayQuestionsPaginated();
}

/* Check answers across ALL pages */
function checkAnswers() {
    let correctCount = 0;
    let unanswered = 0;

    allQuestions.forEach((q, index) => {
        let selected = document.querySelector(`input[name="q${index}"]:checked`);
        let correct = document.querySelector(`span.answer[data-correct][data-index="${index}"]`);

        // fallback correct lookup
        let allAns = document.querySelectorAll(`span.answer`);
        let ans = Array.from(allAns).find(a => a.dataset.correct === q.answer);

        if (!selected) {
            unanswered++;
            return;
        }

        let chosen = selected.value;
        if (chosen === q.answer) {
            correctCount++;
        }
    });

    document.getElementById("result-text").innerHTML =
        `Correct: <span style="color:green;">${correctCount}</span> | ` +
        `Unanswered: <span style="color:red;">${unanswered}</span>`;

    document.getElementById("submit-btn").disabled = true;
    document.getElementById("reset-btn").style.display = "inline-block";

    // Disable all radios
    document.querySelectorAll("input[type='radio']").forEach(r => r.disabled = true);
}

function resetTest() {
    document.getElementById("result-text").innerHTML = "";
    document.getElementById("submit-btn").disabled = false;
    document.getElementById("reset-btn").style.display = "none";

    document.querySelectorAll("input[type='radio']").forEach(r => r.disabled = false);

    currentPage = 1;
    displayQuestionsPaginated();
}

document.addEventListener("DOMContentLoaded", function () {
    loadQuestions(data => {
        allQuestions = data.questions;
        displayQuestionsPaginated();
    });
});
</script>


</body>
</html>
